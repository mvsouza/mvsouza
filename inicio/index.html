<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Ultimos posts &#8211; mvsouza</title>
<meta name="description" content="Descreva esse nonsense.">
<meta name="keywords" content="Jekyll, theme, themes, responsive, blog, modern">



<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Ultimos posts">
<meta property="og:description" content="Descreva esse nonsense.">
<meta property="og:url" content="http://localhost:4000/inicio/">
<meta property="og:site_name" content="mvsouza">

<meta name="google-site-verification" content="2121122112">
<meta name="msvalidate.01" content="32312321312213">


<link rel="canonical" href="http://localhost:4000/inicio/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="mvsouza Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.min.css">
<!-- Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://localhost:4000/inicio/">Inicio</a></li>
		<li>
			<a href="#">Tradução</a>
			<ul class="dl-submenu">
			
			
			
			
				<li>
			    	<li><a href="http://localhost:4000" class="en">en</a></li>
			    
			
				
			

			</ul>
		</li>
		<li>
			<a href="#">Sobre</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://localhost:4000/images/avatar.jpg" alt="Matheus Valiente Souza photo" class="author-photo">
					<h4>Matheus Valiente Souza</h4>
					<p>Programmer.</p>
				</li>
				<li>
					<a href="mailto:mathuesvalientesouza@hotmail.com"><i class="fa fa-envelope"></i> Email</a>
				</li>
				
				<li>
					<a href="http://facebook.com/matheus.valientesouza"><i class="fa fa-facebook"></i> Facebook</a>
				</li>
				
				<li>
					<a href="http://linkedin.com/in/mvsouza"><i class="fa fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="http://github.com/mvsouza"><i class="fa fa-github"></i> GitHub</a>
				</li>
				<li>
					<a href="https://coderbits.com/matheusvsouza"><img src="http://localhost:4000/images/coderbits_256.png" alt="Coderbits" class="coder-bits-img">Coderbits</a>
				</li>
				<li>
					<a href="http://stackexchange.com/users/449767"><i class="fa fa-stack-exchange"></i> Stackexchange</a>
				</li>
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Postagens</a>
			<ul class="dl-submenu">
				<li><a href="http://localhost:4000/postagens/">Todas Postagens</a></li>
				<li><a href="http://localhost:4000/marcacoes/">Todas Marcações</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->



<div id="particles-js" class="entry-header">
  <div class="entry-image">
  </div>
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>mvsouza</h1>
      <h2>Ultimos posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div>

<div id="main" role="main">
  

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2014-12-05T00:00:00+00:00"><a href="http://localhost:4000/encontrando-a-geo-localizacao-de-uma-cidade/">December 05, 2014</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Matheus Valiente Souza">Matheus Valiente Souza</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://localhost:4000/encontrando-a-geo-localizacao-de-uma-cidade/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~5 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/encontrando-a-geo-localizacao-de-uma-cidade/" rel="bookmark" title="Encontrando geo-localização de uma cidade" itemprop="url">Encontrando geo-localização de uma cidade</a></h1>
    
  </header>
  <div class="entry-content">
    <p>A ultima semana  eu estava procurando uma forma de descobrir a cidade que esta localizada uma latitude e longitude.
Então esta aqui o que eu aprendi.</p>

<h2 id="circunstancias-do-problema">Circunstancias do problema</h2>

<p>Na realidade eu e a minha equipe esbarramos nessa questão, pois estamos usando locais advindos da API do Foursquare, que nem sempre provem suas cidades, e quando provem pode estar incorreta.</p>

<p>So I strugle in some insatisfary solutions, between those I’ve tested Geonames Onpenstreemap and  Mapbpx API.
Finaly it led me to the beta service of Opencage, that uses the Towfishes to resolve the geocode reverse.</p>

<p>I’m currently using the Mapbox map to display the Foursquare venues, and the Geoname api to auto complete cities names on a search form.
It shouldn’t be hard at all, if it isn’t the fact we can’t use the Google api, because its license agreement obligate us to use from its own map.</p>

<h2 id="developing-acess-to-the-apis">Developing acess to the APIs</h2>

<p>The ideal scenario would use the Geoname API, because it’s free service, we are already using, so the city aliases would be similar to the searched venues input.</p>

<p>As I’ve already experienced previously, it results don’t follow a strict pattern, but tried it again to be sure.</p>

<p>As an alternative I’ve chosen to test the Mapbox api, that we already have an account, and the Openstreetmap, that doesn’t require any account.</p>

<p>In oder to develop test the APIs, I’ve coded an Angular Webapp  using a template from Yeoman.</p>

<h2 id="implementation">Implementation</h2>

<p>Then I develop a service that would use all those APIs.</p>

<p>To configure the service I’ve added constant to the angular module as follow. </p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">reverseGeocodeModule</span><span class="p">.</span><span class="nx">constant</span><span class="p">(</span><span class="s1">&#39;GeoAPIConstants&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">mapBoxId</span><span class="o">:</span> <span class="s1">&#39;xxxxxx&#39;</span><span class="p">,</span>
    <span class="nx">geonameId</span><span class="o">:</span> <span class="s1">&#39;xxxxxx&#39;</span><span class="p">,</span>
    <span class="nx">openCage</span><span class="o">:</span> <span class="s1">&#39;xxxxxx&#39;</span>
  <span class="p">});</span></code></pre></div>

<p>When I developed the services, I used these constants to identify the environment configurations, so I don’t need to peek on every file to change my access accounts.   </p>

<p>Let me show the services.</p>

<h3 id="mapbox">Mapbox</h3>

<p>The Mapbox WEB API has <a href="http://api.tiles.mapbox.com/v3/examples.map-zr0njcqy/geocode/-73.989,40.733.json">this reverse geocode call</a>.</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">reverseGeocodeModule</span><span class="p">.</span><span class="nx">service</span><span class="p">(</span><span class="s1">&#39;MapboxService&#39;</span><span class="p">,</span> <span class="p">[</span> <span class="s1">&#39;$http&#39;</span><span class="p">,</span><span class="s1">&#39;GeoAPIConstants&#39;</span><span class="p">,</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">$http</span><span class="p">,</span><span class="nx">GeoAPIConstants</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">urls</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="nx">urls</span><span class="p">.</span><span class="nx">geocode</span> <span class="o">=</span> <span class="s2">&quot;http://api.tiles.mapbox.com/v3/{0}/geocode/{1},{2}.json&quot;</span><span class="p">;</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">FindCityReverseGeocode</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">lng</span><span class="p">,</span> <span class="nx">lat</span><span class="p">){</span>
      <span class="kd">var</span> <span class="nx">q</span> <span class="o">=</span> <span class="nx">$http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">urls</span><span class="p">.</span><span class="nx">geocode</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">GeoAPIConstants</span><span class="p">.</span><span class="nx">mapBoxId</span><span class="p">,</span><span class="nx">lng</span><span class="p">,</span><span class="nx">lat</span><span class="p">));</span>
        <span class="k">return</span> <span class="nx">q</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">r</span><span class="p">){</span>
                    <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">extractCityFromGeocodeJSONResult</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
        <span class="p">});</span>
      <span class="p">};</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">extractCityFromGeocodeJSONResult</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">isResultEmpty</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
      <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">searchInMatrixForCity</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">isResultEmpty</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
      <span class="k">return</span> <span class="o">!</span><span class="nx">result</span><span class="p">.</span><span class="nx">results</span> <span class="o">||</span> <span class="nx">result</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">searchInMatrixForCity</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
      <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">result</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">result</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">){</span>
          <span class="k">if</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">results</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">j</span><span class="p">].</span><span class="nx">type</span> <span class="o">==</span> <span class="s1">&#39;city&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="nx">result</span><span class="p">.</span><span class="nx">results</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">j</span><span class="p">];</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}]);</span></code></pre></div>

<h3 id="openstreetmap">Openstreetmap</h3>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">reverseGeocodeModule</span><span class="p">.</span><span class="nx">service</span><span class="p">(</span><span class="s1">&#39;OpenstreetmapService&#39;</span><span class="p">,</span> <span class="p">[</span> <span class="s1">&#39;$http&#39;</span><span class="p">,</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">$http</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">urls</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="nx">urls</span><span class="p">.</span><span class="nx">geocode</span> <span class="o">=</span> <span class="s2">&quot;http://nominatim.openstreetmap.org/reverse?format=json&amp;lat={1}&amp;lon={0}&quot;</span><span class="p">;</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">FindCityReverseGeocode</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">lng</span><span class="p">,</span> <span class="nx">lat</span><span class="p">){</span>
            <span class="k">return</span> <span class="nx">$http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">urls</span><span class="p">.</span><span class="nx">geocode</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">lng</span><span class="p">,</span><span class="nx">lat</span><span class="p">));</span>
    <span class="p">};</span>
  <span class="p">}]);</span></code></pre></div>

<h3 id="geonames">Geonames</h3>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">reverseGeocodeModule</span><span class="p">.</span><span class="nx">service</span><span class="p">(</span><span class="s1">&#39;GeonamesService&#39;</span><span class="p">,</span> <span class="p">[</span> <span class="s1">&#39;$http&#39;</span><span class="p">,</span><span class="s1">&#39;GeoAPIConstants&#39;</span><span class="p">,</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">$http</span><span class="p">,</span><span class="nx">GeoAPIConstants</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">urls</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="nx">urls</span><span class="p">.</span><span class="nx">reverseGeocode</span> <span class="o">=</span> <span class="s2">&quot;http://ws.geonames.org/findNearbyPlaceNameJSON?lat={1}&amp;lng={0}&amp;style=full&amp;username={2}&quot;</span><span class="p">;</span>

    <span class="nx">self</span><span class="p">.</span><span class="nx">FindCityReverseGeocode</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">lng</span><span class="p">,</span> <span class="nx">lat</span><span class="p">){</span>
            <span class="kd">var</span> <span class="nx">q</span> <span class="o">=</span> <span class="nx">$http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">urls</span><span class="p">.</span><span class="nx">reverseGeocode</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">lng</span><span class="p">,</span><span class="nx">lat</span><span class="p">,</span><span class="nx">GeoAPIConstants</span><span class="p">.</span><span class="nx">geonameId</span><span class="p">));</span>
            <span class="k">return</span> <span class="nx">q</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
                <span class="kd">var</span> <span class="nx">listResults</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">geonames</span><span class="p">;</span>
                <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">listResults</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
                    <span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="o">&lt;=</span><span class="nx">self</span><span class="p">.</span><span class="nx">findFeatureClassIndexFor</span><span class="p">(</span><span class="nx">listResults</span><span class="p">[</span><span class="nx">i</span><span class="p">]))</span>
                      <span class="k">return</span> <span class="nx">listResults</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
                <span class="p">}</span>
            <span class="p">});</span>
    <span class="p">};</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">findFeatureClassIndexFor</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">geolocation</span><span class="p">){</span>
      <span class="kd">var</span> <span class="nx">featureClassNameList</span> <span class="o">=</span> <span class="nx">geolocation</span><span class="p">.</span><span class="nx">fclName</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">featureClassNameList</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;city&quot;</span><span class="p">);</span>
    <span class="p">};</span>
  <span class="p">}]);</span></code></pre></div>

<h2 id="solution-elected">Solution elected</h2>

<p>Opencage service</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">reverseGeocodeModule</span><span class="p">.</span><span class="nx">service</span><span class="p">(</span><span class="s1">&#39;OpenCageService&#39;</span><span class="p">,</span> <span class="p">[</span> <span class="s1">&#39;$http&#39;</span><span class="p">,</span><span class="s1">&#39;GeoAPIConstants&#39;</span><span class="p">,</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">$http</span><span class="p">,</span><span class="nx">GeoAPIConstants</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">urls</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="nx">urls</span><span class="p">.</span><span class="nx">geocode</span> <span class="o">=</span> <span class="s2">&quot;https://api.opencagedata.com/geocode/v1/json?q={1},{0}&amp;pretty=1&amp;key={2}&quot;</span><span class="p">;</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">FindCityGeoCodeReverse</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">lng</span><span class="p">,</span> <span class="nx">lat</span><span class="p">){</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">lng</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
        <span class="nx">lng</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="o">+</span><span class="nx">lng</span><span class="p">;</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">lat</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
        <span class="nx">lat</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="o">+</span><span class="nx">lat</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">q</span> <span class="o">=</span> <span class="nx">$http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">urls</span><span class="p">.</span><span class="nx">geocode</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">lng</span><span class="p">,</span><span class="nx">lat</span><span class="p">,</span><span class="nx">GeoAPIConstants</span><span class="p">.</span><span class="nx">openCage</span><span class="p">));</span>
        <span class="k">return</span> <span class="nx">q</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">r</span><span class="p">){</span>
                    <span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">results</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">components</span><span class="p">;</span>
        <span class="p">});</span>
      <span class="p">};</span>
  <span class="p">}]);</span></code></pre></div>

<!---
but the analysis of the results were quite disapoiting

-->

<h2 id="next-experiments">Next experiments</h2>

<p>The chosen API is running in beta version, so considered it risky. 
In order to mitigate it, the next step would be try the Twofishes solution, which opencage uses, to evaluate it as an alternative.</p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2014-11-08T00:00:00+00:00"><a href="http://localhost:4000/comecando-com-yeoman/">November 08, 2014</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Matheus Valiente Souza">Matheus Valiente Souza</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://localhost:4000/comecando-com-yeoman/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/comecando-com-yeoman/" rel="bookmark" title="Começando com Yeoman" itemprop="url">Começando com Yeoman</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Neste jump start vou mostrar como criar diretivas do Angular usando Yeoman.</p>

<p>Mas antes da parte boa, deixe-me introduzir brevemente o Yeoman, ou apenas pule para <a href="#letsgetdowntoit">parte boa</a>.</p>

<h2 id="whata-hell">What’a hell?</h2>

<p style="text-align:center;">
	<img style="height:" src="http://localhost:4000/images/yeoman-005.ef68.png" />
</p>

<p>Você pode não saber sobre a existência do Yoeman, como eu não conhecia. Nesse caso você deve estar se perguntando “Que m#$%# é essa?”.
Yeoman é uma ferramente de scaffolding, que ajuda a desenvolvedores a começar seus projetos, especialmente o tipo web. Ele gera código ordinário, incluindo referências de pacotes bower e npm e scripts de task runners como Grunt e Gulp.  </p>

<h2 id="e-o-queco">E o queco?</h2>

<p>Na realidade é uma solução bem elegante, pois você pode facilmente configurar um projeto com toda uma estrutura, sem ter que ficar copiando código de outros projetos ou reescrever a mesma balela de sempre. </p>

<p style="text-align:center;">
	<img alt="Copy ain't funny" src="http://localhost:4000/images/Copying_test-331x285.jpg" />
</p>

<p>Dessa forma aumenta a sua produtividade e, se usada da forma correta, a qualidade do software ao adicionar ferramentas que você deixaria para traz por “atrasar” o “progresso” do projeto.</p>

<p style="text-align:center;">
	<video style="width: 275px;" alt="Ain't got time for that" src="http://localhost:4000/images/aintgottimeforthat.webm" autoplay="autoplay" loop="loop"> 
		Seu browser não implementa html5 video. 
	</video>
</p>

<p>Já contém uma coleção de geradores, que cobrem uma boa variedade de soluções. Cada qual requer algumas tarefas usuais ligados ao seu proposito, como testes automatizados, build, watch (livereload), e dependências em comum, como AngularJS, Bootstrap.</p>

<p>No intuito de cobrir essas necessidades, pode gerar referencias para pacotes bower e npm e arquivos Grunt ou Gult para rodar tarefas.</p>

<!-- more -->

<p><span name="letsgetdowntoit"></span></p>

<h2 id="letsgetdowntoit">#LetsGetDownToIt</h2>

<p>Precisamos de algumas coisas primeiro:</p>

<ul>
  <li>Instale <a href="https://www.npmjs.org/">NPM</a>, <a href="http://nodejs.org/">nodejs</a> package manager;</li>
  <li>E depois o próprio Yeoman.</li>
</ul>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install -g yo</code></pre></div>

<p alt="Ain't got time for that" style="text-align:center;">
	<video style="width: 275px;" src="http://localhost:4000/images/lonely_island_michael_bolton_jack_sparrow_back_to_.webm" autoplay="autoplay" loop="loop"> 
		Seu browser não implementa html5 video. 
	</video>
</p>

<p>Agora estamos prontos para começar! Precisamos baixar o gerador do Yeoman para diretiva de Angular.</p>

<p>Você pode encontrar geradores pesquisando no npm por por pacotes com o prefixo “generator”, dessa forma:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm search generator OQueVocêEstaPesquisando</code></pre></div>

<p>Nessa caso em especifico, vamos precisar procurar a diretiva do angular, então pesquisamos dessa forma:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm search generator directive</code></pre></div>

<p>Com o nome do pacote em mãos nós instalamos ele.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install generator-angular-directive -g</code></pre></div>

<p>Os pacotes npm com o prefixo “generator-“ nomeiam templates do yo. Para rodar o gerador recentemente adicionado, nós apenas retiramos o prefixo e passamos como argumento para o Yeoman. Antes disso, garanta que já esta na pasta do projeto.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">mkdir ng-yomanDirective
<span class="nb">cd </span>ng-yomanDirective
yo angular-directive</code></pre></div>

<p>Agora que a magica acontece! O Yeoman irá perguntar algumas configurações para gerar de forma mais conveniente o projeto.</p>

<p>Esse template irá o nome que você quer dar para diretiva e o sue nome no github.</p>

<p>Então irá criar a solução com:
* Uma configuração para, rodar os teste e o servidor em em live mode;
* Configuração para Testes automatizados com karma e jasmine;
* configuração para integração continua usando Travis.</p>

<p>Essas são as coisas que você precisa para começar a desenvolver.</p>

<p>Com a solução preparada, rode as seguintes linhas para instalar as dependência:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install -g gulp
npm install -g bower
npm install
bower install</code></pre></div>

<p>Para rodar o live reload demo rode:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">gulp serve</code></pre></div>

<p>E para desenvolver usando TDD, procurando sempre se manter no verde, rode:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">gulp <span class="nb">test</span></code></pre></div>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->


<div class="pagination">
  
    Anterior
  
  <ul class="inline-list">
    <li>
      
        <span class="current-page">1</span>
      
    </li>
    
  </ul>
  
    Próxima
  
</div><!-- /.pagination -->
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2015 Matheus Valiente Souza. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>


<script src="http://localhost:4000/assets/js/vendor/particles.min.js"></script>
<script>
	particlesJS('particles-js', {
    particles: {
        color: '#fff',
        shape: 'circle', // "circle", "edge" or "triangle"
        opacity: 0.5,
        size: 2,
        size_random: true,
        nb: 70,
        line_linked: {
            enable_auto: true,
            distance: 250,
            color: '#fff',
            opacity: 0.5,
            condensed_mode: {
                enable: true,
                rotateX: 600,
                rotateY: 600
            }
        },
        anim: {
            enable: true,
            speed: 2
        }
    },
    interactivity: {
        enable: true,
        mouse: {
            distance: 200
        },
        mode: 'grab'
    },
    /* Retina Display Support */
    retina_detect: false
});
</script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56576468-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>

          

</body>
</html>